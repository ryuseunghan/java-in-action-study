
# 14.1 ëª¨ë“ˆí™”: ì¶”ë¡ í•˜ê¸° ì‰¬ìš´ ì†Œí”„íŠ¸ì›¨ì–´
ì§€ê¸ˆê¹Œì§€ëŠ” ì´í•´í•˜ê³ , ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì–¸ì–´ê¸°ëŠ¥ì„ ê³µë¶€í–ˆìŒ ğŸ‘‰ `"ì €ìˆ˜ì¤€"`

ê¶ê·¹ì ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì—ì„œ ê¸°ë°˜ ì½”ë“œë¥¼ ë°”ê¿”ì•¼ í•  ë•Œ, ìœ ì¶”í•˜ê¸° ì‰½ë„ë¡ ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ê°€ í•„ìš”í•¨. ğŸ‘‰ `"ê³ ìˆ˜ì¤€"`

ì¶”ë¡ í•˜ê¸° ì‰¬ìš´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“œëŠ” ë°ì—ëŠ” **"ê´€ì‹¬ì‚¬ ë¶„ë¦¬"**, **"ì •ë³´ ì€ë‹‰"** ì´ í•„ìš”í•˜ë‹¤.

</br>

## 14.1.1 ê´€ì‹¬ì‚¬ë¶„ë¦¬
> **ê´€ì‹¬ì‚¬ë¶„ë¦¬** (SoC, Separation of Concerns) : ì»´í“¨í„° í”„ë¡œê·¸ë¨ì„ ê³ ìœ ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë™ì‘ì„ ê¶Œì¥í•˜ëŠ” ì›ì¹™.

- íŠ¹ì§•
    - íšŒê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ í•œë‹¤ê³  ê°€ì •í•˜ë©´, </br>
    íŒŒì‹±, ë¶„ì„, ë ˆí¬íŠ¸ ê¸°ëŠ¥ì„ **ëª¨ë“ˆ**, ì¦‰ **ì„œë¡œ ê±°ì˜ ê²¹ì¹˜ì§€ ì•ŠëŠ” ì½”ë“œ ê·¸ë£¹**ìœ¼ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.

    - ìë°” íŒ¨í‚¤ì§€ê°€ í´ë˜ìŠ¤ë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë§Œë“ ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, </br>
    íŒ¨í‚¤ì§€ëŠ” ëª¨ë“ˆì„±ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.

    - M/V/C ê°™ì€ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œì˜ ìƒí™©, ë³µêµ¬ ê¸°ë²•(ex. ì¥ì•  ê°ì§€, ì¬ì‹œë„)ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” í•˜ìœ„ ìˆ˜ì¤€ ì ‘ê·¼ ë“±ì˜ ìƒí™©ì— ìœ ìš©

- ì¥ì 
    1. ê°œë³„ ê¸°ëŠ¥ì„ **ë”°ë¡œ ì‘ì—…**í•  ìˆ˜ ìˆìŒ â¡ï¸ ì‰¬ìš´ í˜‘ì—…
    1. ê°œë³„ ë¶€ë¶„ì„ **ì¬ì‚¬ìš©**í•˜ê¸° ì‰¬ì›€
    1. ì „ì²´ ì‹œìŠ¤í…œì„ **ì‰½ê²Œ ìœ ì§€ë³´ìˆ˜** ê°€ëŠ¥í•¨.


</br></br>

## 14.1.2 ì •ë³´ ì€ë‹‰
> **ì •ë³´ ì€ë‹‰** : ì„¸ë¶€ êµ¬í˜„ì„ ìˆ¨ê¸°ë„ë¡ ì¥ë ¤í•˜ëŠ” ì›ì¹™

- íŠ¹ì§•
    - ìš”êµ¬ì‚¬í•­ì´ ìì£¼ ë°”ë€ŒëŠ” ìƒí™©ì—ì„œ ì„¸ë¶€ êµ¬í˜„ì„ ìˆ¨ê¹€ìœ¼ë¡œì¨ ì–´ë–¤ ë¶€ë¶„ì„ ìˆ˜ì •í–ˆì„ ë•Œ ë‹¤ë¥¸ ë¶€ë¶„ê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹  ê°€ëŠ¥ì„± ì¤„ì–´ë“¦
    - ì¦‰, **ì½”ë“œ**ë¥¼ **ê´€ë¦¬**í•˜ê³  **ë³´í˜¸**í•˜ëŠ” ë° ìœ ìš©í•œ ì›ì¹™
    
- **ì»´íŒŒì¼ëŸ¬**ë¡œ ì€ë‹‰ì„± í™•ì¸í•˜ê¸°    
    - `í´ë˜ìŠ¤ ë‚´ì˜ ì»´í¬ë„ŒíŠ¸` : **`private`** í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì»´íŒŒì¼ëŸ¬ì„ ì´ìš©í•´ ìº¡ìŠí™”ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.
        > **ìº¡ìŠí™”** : íŠ¹ì • ì½”ë“œ ì¡°ê°ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‹¤ë¥¸ ë¶€ë¶„ê³¼ ê³ ë¦½ë˜ì–´ ìˆìŒ
    - `í´ë˜ìŠ¤`, `íŒ¨í‚¤ì§€` : ìë°” 9 ì´ì „ì—ëŠ” ì˜ë„ëœ ëŒ€ë¡œ ê³µê°œë˜ì—ˆëŠ”ì§€ ì»´íŒŒì¼ëŸ¬ë¡œ í™•ì¸í•  ìˆ˜ **ì—†ì—ˆë‹¤**.


</br></br>

# 14.2 ìë°” ëª¨ë“ˆ ì‹œìŠ¤í…œì„ ì„¤ê³„í•œ ì´ìœ 
## 14.2.1 ëª¨ë“ˆí™”ì˜ í•œê³„
- ìë°”ëŠ” `í´ë˜ìŠ¤`, `íŒ¨í‚¤ì§€`, `JAR` ì„¸ ê°€ì§€ ìˆ˜ì¤€ì˜ **ì½”ë“œ ê·¸ë£¹í™”** ì œê³µ
    - `í´ë˜ìŠ¤` : ì ‘ê·¼ ì œí•œì, ìº¡ìŠí™”
    - `íŒ¨í‚¤ì§€`, `JAR` : ìº¡ìŠí™” ê±°ì˜ ì§€ì› X

### 1) ì œí•œëœ ê°€ì‹œì„± ì œì–´
1. íŒ¨í‚¤ì§€ ê°„ì˜ ê°€ì‹œì„± ì œì–´ ê¸°ëŠ¥ ê±°ì˜ X </br> 
    > **ê°€ì‹œì„± ì œì–´** : public, protected, default(íŒ¨í‚¤ì§€ ìˆ˜ì¤€), private

    â¬‡ï¸ </br>
1. í•œ íŒ¨í‚¤ì§€ì˜ í´ë˜ìŠ¤&ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¡œ ê³µê°œí•˜ë ¤ë©´ publicìœ¼ë¡œ ì„ ì–¸í•´ì•¼ í•¨ </br>
    â¬‡ï¸ </br>
1. ëª¨ë‘ì—ê²Œ ê³µê°œí•˜ëŠ” ê¼´ </br>
    â¬‡ï¸ </br>
1. `public`ì´ë¯€ë¡œ ì‚¬ìš©ìê°€ ë‚´ë¶€ êµ¬í˜„ì„ ë§ˆìŒëŒ€ë¡œ ì‚¬ìš© </br>
    â¬‡ï¸ </br>
1. ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•  ëª©ì ì´ì—ˆëŠ”ë° ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì¨ë²„ë¦¬ë©´, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œ ë°”ê¾¸ê¸°ê°€ ì–´ë ¤ì›Œì§. ë³´ì•ˆ ì¸¡ë©´ì—ì„œë„ ìœ„í—˜í•¨. </br>


### 2) í´ë˜ìŠ¤ ê²½ë¡œ
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë²ˆë“¤&ì‹¤í–‰í•  ë•Œ, 

1. í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ ì»´íŒŒì¼ 
1. í•œ ê°œì˜ í‰ë²”í•œ JAR íŒŒì¼ì— ë„£ìŒ 
1. í´ë˜ìŠ¤ ê²½ë¡œì— ì´ JAR íŒŒì¼ì„ ì¶”ê°€í•´ ì‚¬ìš© 

ê·¸ëŸ¬ë‚˜, ìœ„ì™€ ê°™ì€ `í´ë˜ìŠ¤ ê²½ë¡œ + JAR` ì¡°í•©ì€ ì•½ì ì´ ìˆìŒ

1. í´ë˜ìŠ¤ ê²½ë¡œì—ëŠ” ê°™ì€ **í´ë˜ìŠ¤ë¥¼ êµ¬ë¶„**í•˜ëŠ” **ë²„ì „** ê°œë…ì´ **ì—†ë‹¤**.
    - íŒŒì‹± ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `JSONParser` í´ë˜ìŠ¤ë¥¼ ë²„ì „ 1.0ì¸ì§€ 2.0ì¸ì§€ ì§€ì • ëª»í•¨
    - í´ë˜ìŠ¤ ê²½ë¡œì— ë‘ ê°€ì§€ ë²„ì „ì˜ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬
    - ì´ë•Œ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ì§€ ì˜ˆì¸¡ X.
1. í´ë˜ìŠ¤ ê²½ë¡œì—ëŠ” **ëª…ì‹œì ì¸ ì˜ì¡´ì„±**ì„ **ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤**.
    - í•œ JAR ì•ˆì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” `classes`ë¼ëŠ” í•œ ì£¼ë¨¸ë‹ˆë¡œ í•©ì³ì§
    - í•œ JARê°€ ë‹¤ë¥¸ JARì— í¬í•¨ëœ í´ë˜ìŠ¤ ì§‘í•©ì„ ì‚¬ìš©í•˜ë¼ê³  **ëª…ì‹œì ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì •ì˜í•  ìˆ˜ ì—†ìŒ** ğŸ‘‰ `"JAR ì§€ì˜¥"` or "`í´ë˜ìŠ¤ ê²½ë¡œ ì§€ì˜¥"`
    - ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ì§€ ì˜ˆì¸¡ X. 
    - "ë¹ ì§„ ê²Œ ìˆëŠ”ê°€?", "ì¶©ëŒì´ ìˆëŠ”ê°€?" ê°™ì€ ì˜ë¬¸ ë°œìƒ
    - ê²°êµ­ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  **ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰í•  ë•Œê¹Œì§€** í´ë˜ìŠ¤ ê²½ë¡œì— í´ë˜ìŠ¤ íŒŒì¼ì„ ë”í•˜ê±°ë‚˜, ì œê±°í•´ë³´ëŠ” ìˆ˜ë°–ì— ì—†ìŒ.
</br></br>

## 14.2.2 ê±°ëŒ€í•œ JDK
1. í™˜ê²½ì— ë”°ë¼ JDK ì „ë¶€ë¥¼ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ
1. ì»´íŒ©íŠ¸ í”„ë¡œíŒŒì¼ ë“±ì¥
    > **ì»´íŒ©íŠ¸ í”„ë¡œíŒŒì¼** : ê´€ë ¨ ë¶„ì•¼ì— ë”°ë¼ JDK ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¸ ê°€ì§€ í”„ë¡œíŒŒì¼ë¡œ ë‚˜ë‰˜ì–´ ê°ê° ë‹¤ë¥¸ ë©”ëª¨ë¦¬ í’‹í”„ë¦°íŠ¸ë¥¼ ì œê³µ

1. ê·¸ëŸ¬ë‚˜, ë•œì§ˆì‹ ì²˜ë¦¬ì˜€ê³ , ë‚´ë¶€ APIê°€ ì™¸ë¶€ì— ê³µê°œë¨. 
1. í˜¸í™˜ì„±ì„ ê¹¨ì§€ ì•Šê³ ëŠ” ê´€ë ¨ APIë¥¼ ë°”ê¾¸ê¸°ê°€ ì–´ë ¤ì›Œì§
1. JDK ìì²´ë¥¼ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆëŠ” ìë°” ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ í•„ìš”ì„± ì œê¸°ë¨.

</br>

## 14.2.3 OSGIì™€ ë¹„êµ
> [!NOTE]
> ìŠ¤í‚µ ê°€ëŠ¥!

- **OSGië€**
    - ìë°” 9ì—ì„œ ëª¨ë“ˆí™” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ê¸° ì „ì—ë„ OSGië¼ëŠ” ëª¨ë“ˆ ì‹œìŠ¤í…œì´ ì¡´ì¬í–ˆìŒ. (ê³µì‹ ê¸°ëŠ¥ X)
    - OSGiëŠ” ê´‘ë²”ìœ„í•œ ì˜ì—­, ì§ì†Œì—ì„œ ì œê³µí•˜ì§€ ì•ŠëŠ” ì—¬ëŸ¬ ê¸°ëŠ¥ ì œê³µ
    - ë²ˆë“¤ì´ë¼ ë¶ˆë¦¬ëŠ” OSGi ëª¨ë“ˆì„ íŠ¹ì • OSGi í”„ë ˆì„ì›Œí¬ ë‚´ì—ì„œë§Œ ì‹¤í–‰
        - í”„ë ˆì„ì›Œí¬ ì˜ˆì‹œ) ì•„íŒŒì¹˜ í ë¦­ìŠ¤, ì—í€´ë…¹ìŠ¤
    - ë²ˆë“¤ì˜ ë™ì‘ì— í•„ìš”í•œ **ì™¸ë¶€ íŒ¨í‚¤ì§€**ê°€ **ë¬´ì—‡**ì´ë©°, ì–´ë–¤ **ë‚´ë¶€ íŒ¨í‚¤ì§€**ê°€ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì–´ ë‹¤ë¥¸ ë²ˆë“¤ë¡œ **ì œê³µ**ë˜ëŠ”ì§€ë¥¼ ì„œìˆ í•˜ëŠ” **í…ìŠ¤íŠ¸ íŒŒì¼**ë¡œ ê° ë²ˆë“¤ì„ ì •ì˜.
    

- **ì¥ì **
    1. **ì‹œìŠ¤í…œì„ ì¬ì‹œì‘í•˜ì§€ ì•Šê³ ë„** ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‹¤ë¥¸ í•˜ìœ„ ë¶€ë¶„ì„ **í•«ìŠ¤ì™‘**í•  ìˆ˜ ìˆë‹¤.
       
        > **í•«ìŠ¤ì™‘** : ì‹œìŠ¤í…œì„ ì¬ì‹œì‘í•˜ì§€ ì•Šê³  ì½”ë“œë‚˜ ëª¨ë“ˆì„ ë³€ê²½í•˜ëŠ” ê¸°ìˆ 
    1. í”„ë ˆì„ì›Œí¬ ë‚´ì— **ê°™ì€ ë²ˆë“¤ì˜ ë‹¤ë¥¸ ë²„ì „**ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤

- **ìë°” 9 ëª¨ë“ˆ ì‹œìŠ¤í…œê³¼ì˜ ì°¨ì´ì **
    - `OSGi` : ê° ë²ˆë“¤ì´ ìì²´ì ì¸ í´ë˜ìŠ¤ ë¡œë” ê°€ì§. 
    - `ìë°” 9 ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ ì§ì†Œ` : ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¹ í•œ ê°œì˜ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë²„ì „ ì œì–´ X

</br></br>

# 14.3 ìë°” ëª¨ë“ˆ : í° ê·¸ë¦¼
### 1) ëª¨ë“ˆì˜ êµ¬ì¡°
```java
module ëª¨ë“ˆëª… { 
    ë°”ë””
}
```
> [!NOTE]
> `module`, `requires`, `export` ê°™ì€ ëª¨ë“ˆ ê´€ë ¨ ìš©ì–´ëŠ” `ì œí•œëœ í‚¤ì›Œë“œ`ë‹¤. 
>
> í”„ë¡œê·¸ë¨ ë‚´ì—ì„œëŠ” ììœ ë¡­ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ëª¨ë“ˆì´ í—ˆìš©ëœ ê³³ì—ì„œëŠ” í‚¤ì›Œë“œë¡œ í•´ì„ë¨

### 2) ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°
- **`module-info.java`** ë¼ëŠ” íŒŒì¼ì— ì €ì¥ë¨
    - ì—„ë°€í•˜ê²Œ ë”°ì§€ë©´ 
        - **`ëª¨ë“ˆ ì„ ì–¸(module declareation)`** : **í…ìŠ¤íŠ¸ í˜•ì‹**
        - **`ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°`** : `module-info.class`ì— ì €ì¥ëœ **ë°”ì´ë„ˆë¦¬ í˜•ì‹**
- ë³´í†µ **íŒ¨í‚¤ì§€ì™€ ê°™ì€ í´ë”**ì— ìœ„ì¹˜
- í•œ ê°œ ì´ìƒì˜ íŒ¨í‚¤ì§€ë¥¼ ì„œìˆ &ìº¡ìŠí™”í•˜ê³ , ë‹¨ìˆœí•œ ìƒí™©ì—ì„œëŠ” ì´ë“¤ íŒ¨í‚¤ì§€ ì¤‘ í•œ ê°œë§Œ ì™¸ë¶€ë¡œ ë…¸ì¶œì‹œí‚´
```java
//module-info.java
module ëª¨ë“ˆëª… { 
    exports íŒ¨í‚¤ì§€ëª… //í•œ í˜ì´ì§€ë¥¼ ë…¸ì¶œì‹œí‚¤ëŠ” ê°„ë‹¨í•œ í˜•ì‹
    requires ëª¨ë“ˆëª… //0ê°œ ì´ìƒì˜ ëª¨ë“ˆ
}
```

<img src="img/1.jpg"></img>
- `exports` : ëŒì¶œë¶€
- `requires` : íŒ¨ì¸ ë¶€ë¶„

</br></br>

# 14.4 ìë°” ëª¨ë“ˆ ì‹œìŠ¤í…œìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œí•˜ê¸°
## 14.4.1 ì• í”Œë¦¬ì¼€ì´ì…˜ ì…‹ì—…
```
- íŒŒì¼ì´ë‚˜ URLì—ì„œ ë¹„ìš© ëª©ë¡ì„ ì½ëŠ”ë‹¤.
- ë¹„ìš©ì˜ ë¬¸ìì—´ í‘œí˜„ì„ íŒŒì‹±í•œë‹¤.
- í†µê³„ë¥¼ ê³„ì‚°í•œë‹¤.
- ìœ ìš©í•œ ìš”ì•½ ì •ë³´ë¥¼ í‘œì‹œí•œë‹¤.
- ê° íƒœìŠ¤í¬ì˜ ì‹œì‘, ë§ˆë¬´ë¦¬ ì§€ì ì„ ì œê³µí•œë‹¤.
```
â¡ï¸ ì´ ìš”êµ¬ì‚¬í•­ë“¤ì—ì„œ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê¸°ëŠ¥ (ê´€ì‹¬ì‚¬)

1. ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì½ìŒ(Reader, HttpReader, FileReader)
1. ë‹¤ì–‘í•œ í¬ë§·ìœ¼ë¡œ êµ¬ì„±ëœ ë°ì´í„°ë¥¼ íŒŒì‹±(Parser, JSONParserk ExpenseJSON-Parser)
1. ë„ë©”ì¸ ê°ì²´ë¥¼ êµ¬ì²´í™”(Expense)
1. í†µê³„ë¥¼ ê³„ì‚°í•˜ê³  ë°˜í™˜(SummaryCalculator, SummaryStatistics)
1. ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ë¶„ë¦¬ ì¡°ì •(ExpensesApplication)

â¡ï¸ ì´ ê¸°ëŠ¥ë“¤ì„ ê·¸ë£¹í™”
- expenses.readers
- expenses.readershttp
- expenses.readersfile
- expenses.parsers
- expenses.parsersjson
- expenses.model
- expenses.statistics
- expenses.application

</br>

## 14.4.2 ì„¸ë¶€ì ì¸ ëª¨ë“ˆí™”, ê±°ì¹œ ëª¨ë“ˆí™”
| | ì„¸ë¶€ì ì¸ ëª¨ë“ˆí™” | ê±°ì¹œ ëª¨ë“ˆí™” |
| --- | --- | --- |
| **íŠ¹ì§•** | ëª¨ë“  íŒ¨í‚¤ì§€ê°€ ìì‹ ì˜ ëª¨ë“ˆì„ ê°–ëŠ”ë‹¤. | í•œ ëª¨ë“ˆì´ ì‹œìŠ¤í…œì˜ ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ í¬í•¨í•œë‹¤. |
| **ë‹¨ì ** | ì´ë“ì— ë¹„í•´ ì„¤ê³„ ë¹„ìš©ì´ ì¦ê°€ | ëª¨ë“ˆí™”ì˜ ì¥ì ì„ ìƒìŒ | 

</br>

## 14.4.3 ìë°” ëª¨ë“ˆ ì‹œìŠ¤í…œ ê¸°ì´ˆ
### 1) ë””ë ‰í„°ë¦¬ êµ¬ì¡°
```
|-- expenses.application
  |-- module-info.java    ===========> ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°
  |-- com
    |-- example
      |-- expenses
        |-- application
          |-- ExpensesApplication.java
```

### 2) ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°
- `module-info.java`
- ëª¨ë“ˆì˜ ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼ **ë£¨íŠ¸**ì— ìœ„ì¹˜
- ëª¨ë“ˆì˜ **ì˜ì¡´ì„±**, **ì–´ë–¤ ê¸°ëŠ¥**ì„ ì™¸ë¶€ë¡œ **ë…¸ì¶œí• ì§€** ì •ì˜
- í˜„ì¬ëŠ” ì´ë¦„ë§Œ ì •ì˜ë˜ì–´ ìˆê³  ë‚´ìš©ì€ ë¹„ì–´ìˆë‹¤.
    ```java
    module expenses.application {

    }
    ```

### 3) ëª¨ë“ˆí™” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰



</br></br>


# 14.5 ì—¬ëŸ¬ ëª¨ë“ˆ í™œìš©í•˜ê¸°
## 14.5.1 `exports` êµ¬ë¬¸
> `exports` : ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ íŠ¹ì • íŒ¨í‚¤ì§€ë¥¼ ê³µê°œ í˜•ì‹ìœ¼ë¡œ ë§Œë“ ë‹¤.

### 1) íŠ¹ì§•
- ëª¨ë“ˆ ë‚´ì˜ ëª¨ë“  ê²ƒì€ ìº¡ìŠí™”ë˜ëŠ”ë°, **í™”ì´íŠ¸ ë¦¬ìŠ¤íŠ¸** ê¸°ë²•ì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— **ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ë¬´ì—‡**ì¸ì§€ **ëª…ì‹œì **ìœ¼ë¡œ ê²°ì •í•´ì•¼ í•œë‹¤.

### 2) ì˜ˆì‹œ
```java
module expenses.readers {
    exports com.example.expenses.readers;
    exports com.example.expenses.readers.file;
    exports com.example.expenses.readers.http;
}
```
- ì„¸ ê°œ ëª¨ë‘ ëª¨ë“ˆëª…ì´ ì•„ë‹Œ **íŒ¨í‚¤ì§€ëª…**ì´ë‹¤.

### 3) ë””ë ‰í„°ë¦¬ êµ¬ì¡°
```
|-- expenses.application
  |-- module-info.java    ===========> ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°
  |-- com
    |-- example
      |-- expenses
        |-- application
          |-- ExpensesApplication.java


|-- expenses.readers      ===========> ëª¨ë“ˆ
  |-- module-info.java    ===========> ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°
  |-- com                 ===========> íŒ¨í‚¤ì§€
    |-- example
      |-- expenses
        |-- readers
          |-- Reader.java
        |-- file
          |-- FileReader.java
        |-- http
          |-- HttpReader.java
```

</br>

## 14.5.2 `requires` êµ¬ë¬¸
> `requires` : ì˜ì¡´í•˜ê³  ìˆëŠ” ëª¨ë“ˆì„ ì§€ì •í•œë‹¤.

### 1) ì˜ˆì‹œ
```java
module expenses.readers {
    requires java.base;

    exports com.example.expenses.readers;
    exports com.example.expenses.readers.file;
    exports com.example.expenses.readers.http;
}
```
- `requires` ë‹¤ìŒ : íŒ¨í‚¤ì§€ ëª…ì´ ì•„ë‹ˆë¼ **ëª¨ë“ˆëª…**ì´ë‹¤.
- `exports` ë‹¤ìŒ : ì„¸ ê°œ ëª¨ë‘ ëª¨ë“ˆëª…ì´ ì•„ë‹Œ **íŒ¨í‚¤ì§€ëª…**ì´ë‹¤.

</br>

> [!NOTE]
> ëª¨ë“  ëª¨ë“ˆì€ `java.base`ë¼ëŠ” í”Œë«í¼ ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ”ë° í•­ìƒ í•„ìš”í•œ ê¸°ë³¸ ëª¨ë“ˆì´ë¯€ë¡œ ìƒëµ

</br></br>

## 14.5.3 ì´ë¦„ ê·œì¹™
1. **ì¸í„°ë„· ë„ë©”ì¸ëª…ì˜ ì—­ìˆœ** (com.iteratrlearning.training)
1. **ë…¸ì¶œëœ ì£¼ìš” API íŒ¨í‚¤ì§€**ì™€ **ì´ë¦„ì´ ê°™ì•„**ì•¼ í•œë‹¤.

</br></br>

# 14.6 ì»´íŒŒì¼ê³¼ íŒ¨í‚¤ì§•
1. ê° ëª¨ë“ˆì— `pom.xml`ì„ ì¶”ê°€í•œë‹¤.
    ```
    |-- pom.xml **
    |-- expenses.application
      |-- pom.xml **
      |-- src
        |-- main
          |-- java
            |-- module-info.java **
            |-- com
              |-- example
                |-- expenses
                  |-- application
                    |-- ExpensesApplication.java

    |-- expenses.readers  
      |-- pom.xml **
        |-- src
          |-- main
            |-- java   
              |-- module-info.java **
              |-- com                 
                |-- example
                  |-- expenses
                    |-- readers
                      |-- Reader.java
                    |-- file
                      |-- FileReader.java
                    |-- http
                      |-- HttpReader.java
    ```
    - ì „ì²´ í”„ë¡œì íŠ¸ì˜ ë¹Œë“œë¥¼ ì¡°ì •í•˜ê¸° ìœ„í•´ **ëª¨ë“  ëª¨ë“ˆì˜ ë¶€ëª¨ ëª¨ë“ˆ**ì—ë„ `pom.xml` ì¶”ê°€
    - ëª¨ë“ˆ ë””ìŠ¤í¬ë¦½í„°(module-info.java)ëŠ” `src/main/java` ë””ë ‰í„°ë¦¬ì— ìœ„ì¹˜í•´ì•¼ í•¨
    - ê° ëª¨ë“ˆì€ ë…ë¦½ì ìœ¼ë¡œ ì»´íŒŒì¼ë¨ â¡ï¸ ê°ê°ì´ í•œ ê°œì˜ í”„ë¡œì íŠ¸ë‹¤.

1. `expenses.readers` í”„ë¡œì íŠ¸ì˜ `pom.xml`
    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemalocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <modelVersion>4.0.0</modelVersion>

        <groupId>com.example</groupId>
        <artifactId>expenses.readers</artifactId>
        <version>1.0</version>
        <packaging>jar</packaging>

        <parent>
            <groupId>com.example</groupId>
            <artifactId>expenses</artifactId>
            <version>1.0</version>
        </parent>
    </project>
    ```
    - ëª…ì‹œì ìœ¼ë¡œ ë¶€ëª¨ ëª¨ë“ˆì„ ì§€ì •í•¨

1. `expenses.application` ëª¨ë“ˆì˜ `pom.xml`
    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <modelVersion>4.0.0</modelVersion>

        <groupId>com.example</groupId>
        <artifactId>expenses.application</artifactId>
        <version>1.0</version>
        <packaging>jar</packaging>

        <parent>
            <groupId>com.example</groupId>
            <artifactId>expenses</artifactId>
            <version>1.0</version>
        </parent>

        <dependencies>
            <dependency>
                <groupId>com.example</groupId>
                <artifactId>expenses.readers</artifactId>
                <version>1.0</version>
            </dependency>
        </dependencies>
    </project>
    ```

    - `ExpenseApplication`ì´ í•„ìš”ë¡œ í•˜ëŠ” í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ê°€ ìˆìœ¼ë¯€ë¡œ `expenses.readers`ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì¶”ê°€

1. ì „ì—­ `pom.xml`
    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemalocation="http://maven.apache.org/POM/4.0.0
    http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <modelVersion>4.0.0</modelVersion>

        <groupld>com.examples</groupld>
        <artifactId>expenses</artifactId>
        <packaging>pom</packaging>
        <version>1.0</version>

        <modules>
            <module>expenses.application</module>
            <module>expenses.readers</module>
        </modules>

        <build>
            <pluginManagement>
                <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>3.7.0</version>
                    <configuration>
                        <source>9</source>
                        <target>9</target>
                    </configuration>
                </plugin>
                </plugins>
            </pluginManagement>
        </build>
    </project>
    ```

1. `mvn clean package`ë¡œ í”„ë¡œì íŠ¸ ëª¨ë“ˆâ¡ï¸JAR ë¡œ ë³€í™˜
1. ë¶€ì‚°ë¬¼(artifact) ìƒì„±
    - `./expenses.application/target/expenses.application-1.0.jar`
    - `./expenses.readers/target/expenses.readers-1.0.jar`

1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
    ```bash
    java --module-path \ 
    ./expenses.application/target/expenses.application-1.0.jar:\
    ./expenses.readers/target/expenses.readers-1.0.jar \
    --module \
    expenses.application/com.example.expenses.application.ExpensesApplication
    ```

</br></br>

# 14.7 ìë™ ëª¨ë“ˆ
- ìë°”ëŠ” JARë¥¼ ìë™ ëª¨ë“ˆì´ë¼ëŠ” í˜•íƒœë¡œ ì ì ˆí•˜ê²Œ ë³€í™˜í•œë‹¤.
- **ëª¨ë“ˆ ê²½ë¡œìƒ**ì— ìˆìœ¼ë‚˜ **`module-info` íŒŒì¼**ì„ **ê°€ì§€ì§€ ì•Šì€** ëª¨ë“  **JAR**ëŠ” **ìë™ ëª¨ë“ˆ**ì´ ëœë‹¤.
- ìë™ ëª¨ë“ˆì€ ìì‹ ì˜ **ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ ë…¸ì¶œ**ì‹œí‚¨ë‹¤.
- ìë™ ëª¨ë“ˆì˜ ì´ë¦„ì€ **JAR ì´ë¦„**ì„ ì´ìš©í•´ ì •í•´ì§„ë‹¤.
    - ë°”ê¾¸ë ¤ë©´
        ```bash
        jar --file=./expenses. readers/target/dependency/httpclient-4.5.3.jar \
        --describe-module httpclient@4.5.3 automatic
        ```
    - httpclientë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë°”ë€œ.
    - httpclient JARë¥¼ ëª¨ë“ˆ ê²½ë¡œì— ì¶”ê°€í•œ ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
        ```bash
        java --module-path \
        ./expenses. application/target/expenses .application-1.0.jar:\
        ./expenses . readers/ target/expenses.readers-1.0.jar \
        ./expenses. readers/ target/dependency/httpclient-4.5.3.jar \
        -module \
        expenses.application/com.example.expenses.application.ExpensesApplication
        ```

</br></br>

# 14.8 ëª¨ë“ˆ ì •ì˜ì™€ êµ¬ë¬¸ë“¤
## 14.8.1  `requires`
ìƒëµ
## 14.8.2  `exports`
ìƒëµ
## 14.8.3 `requires transitive`
> `requires transitive` : ë‹¤ë¥¸ ëª¨ë“ˆì´ ì œê³µí•˜ëŠ” public typeì„ í•œ ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ì§€ì •í•  ìˆ˜ ìˆë‹¤. (**ì „ì´ì„±**)

### ì˜ˆì‹œ
```java
module com.iteratrlearning.ui {
    requires transitive com.iteratrlearning.core;

    exports com.iteratrlearning.ui.panels;
    exports com.iteratrlearning.ui.widgets;
}
```
```java
module com.iteratrlearning.application {
    requires com.iteratrlearning.ui;
}
```
- `com.iteratrlearning.application` ëª¨ë“ˆì€ `com.iteratrlearning.core`ì—ì„œ ë…¸ì¶œí•œ public typeì— ì ‘ê·¼í•  ìˆ˜ O.
- í•„ìš”ë¡œ í•˜ëŠ” ëª¨ë“ˆ (`com.iteratrlearning.ui`)ì´ ë‹¤ë¥¸ ëª¨ë“ˆ(`com.iteratrlearning.core`)ì˜ í˜•ì‹ì„ ë°˜í™˜í•˜ëŠ” ìƒí™©ì—ì„œ ì „ì´ì„± ì„ ì–¸ì´ ìœ ìš©í•´ì§.
- ì¦‰, `com.iteratrlearning.core` â¡ï¸ `com.iteratrlearning.ui` â¡ï¸ `com.iteratrlearning.application`

</br>

## 14.8.4 `exports to`
> `exports to` : ì‚¬ìš©ìì—ê²Œ ê³µê°œí•  ê¸°ëŠ¥ì„ ì œí•œí•¨ìœ¼ë¡œ ê°€ì‹œì„±ì„ ì •êµí•˜ê²Œ ì œì–´

### ì˜ˆì‹œ
```java
module com.iteratrlearning.ui {
    requires com.iteratrlearning.core;

    exports com.iteratrlearning.ui.panels;
    exports com.iteratrlearning.ui.widgets to com.iteratrlearning.ui.widgetuser;
}
```

- `com.iteratrlearning.ui.widgets`ì˜ ì ‘ê·¼ ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìì˜ ê¶Œí•œì„ `com.iteratrlearning.ui.widgetuser`ë¡œ ì œí•œí•  ìˆ˜ ìˆë‹¤.

</br>

## 14.8.5 `open`ê³¼ `opens`
> `open` : ëª¨ë“ˆ ì„ ì–¸ì— open í•œì •ìë¥¼ ì´ìš©í•˜ë©´ ë‹¤ë¥¸ ëª¨ë“ˆì—  ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ Reflection access í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•  ìˆ˜ ìˆë‹¤.

> `Reflection(ë¦¬í”Œë ‰ì…˜)` : ì‹¤í–‰ ì¤‘ì¸ í´ë˜ìŠ¤, ë©”ì„œë“œ, í•„ë“œ ë“±ì— ì ‘ê·¼í•˜ëŠ” ê¸°ëŠ¥

### 1) ì˜ˆì‹œ
1. `open` ì—†ì´ Reflection ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ ë°œìƒ
    1. ëª¨ë“ˆ ì„ ì–¸ (module-info.java)
        ```java
        module com.example {
            exports com.example;
        }
        ```
    1. Reflectionì„ ì‚¬ìš©í•´ í•„ë“œ ì ‘ê·¼
        ```java
        package com.example;
        import java.lang.reflect.Field;

        public class ReflectionExample {
            private String secret = "Hidden Data";

            public static void main(String[] args) throws Exception {
                ReflectionExample obj = new ReflectionExample();
                Field field = ReflectionExample.class.getDeclaredField("secret");
                field.setAccessible(true); // private í•„ë“œ ì ‘ê·¼ ì‹œë„
                System.out.println("Secret Value: " + field.get(obj));
            }
        }
        ```
    1. ì‹¤í–‰í•˜ë©´ ì—ëŸ¬ ë°œìƒ (Java 9 ì´ìƒ)
        ```java
        java.lang.reflect.InaccessibleObjectException:
        Unable to make field private java.lang.String com.example.ReflectionExample.secret accessible
        ```
1. `open` í‚¤ì›Œë“œ ì‚¬ìš©í•˜ì—¬ Reflection í—ˆìš©
    1. open ì‚¬ìš©í•œ ëª¨ë“ˆ ì„ ì–¸
        ```java
        open module com.example {
            exports com.example;
        }
        ```
    1. ì‹¤í–‰ ê²°ê³¼
        ```java
        Secret Value: Hidden Data
        ```

</br>

### 2) íŠ¹ì§•
- ìë°” 9 ì´ì „ì—ëŠ” ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ê°ì²´ì˜ private ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆì—ˆë‹¤. 
- ì¦‰, ì§„ì •í•œ ìº¡ìŠí™”ëŠ” ì—†ì—ˆë‹¤.
- ìë°” 9 ì—ì„œëŠ” privateì—ëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ìœ¼ë©°, open êµ¬ë¬¸ì„ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ Reflectionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- `opens` : íŠ¹ì • íŒ¨í‚¤ì§€ë§Œ Reflection í—ˆìš©
- `open` : ì „ì²´ íŒ¨í‚¤ì§€ í—ˆìš©
    - `open to` : íŠ¹ì • ëª¨ë“ˆì—ë§Œ í—ˆìš©
